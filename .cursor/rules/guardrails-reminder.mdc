---
description: Targeted reminder when guardrails are disabled (protected files only).
globs:
  - "packages/ui/src/index.ts"
  - "packages/ui/src/adapters/**"
  - "packages/ui/src/tokens/**"
  - "src/vendor/**"
rules:
  - If ".guardrails/disabled" exists:
      - Before changing these files, post:
        "⚠️ Guardrails are DISABLED (.guardrails/disabled). You're editing protected paths.
         Re-enable with: GUARDRAILS_TOKEN=ok npm run guardrails:enable
         Proceed anyway?"
      - WAIT for explicit confirmation; then annotate plan: "Proceeding with guardrails disabled (per user confirmation)."
  - Never create, delete, or modify ".guardrails/**", "scripts/guardrails-toggle.mjs", or ".husky/*" unless the user explicitly writes: ALLOW TOGGLE CHANGE.
  - Do not run scripts that change the toggle unless: ALLOW TOGGLE CHANGE.
  - Advisory only; do not block on user confirmation.